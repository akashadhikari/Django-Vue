webpackJsonp([2],{"53q3":function(t,e){},Jy6K:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){a("Jy6K")}function o(t){a("VyEA")}function r(t){a("53q3")}function i(t){a("owjt")}function l(t){a("SFGu")}Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),c={name:"app"},u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{staticClass:"grey lighten-4"},[a("router-view")],1)],1)},d=[],m={render:u,staticRenderFns:d},v=m,p=a("VU/8"),f=n,h=p(c,v,!1,f,null,null),b=h.exports,_=a("/ocq"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Just the homepage")]),t._v(" "),a("v-btn",{attrs:{router:"",to:"/leads",round:"",color:"blue white--text"}},[t._v("Lead")]),t._v(" "),a("v-btn",{attrs:{router:"",to:"/create-lead",round:"",color:"blue white--text"}},[t._v("Creat Lead")]),t._v(" "),a("v-btn",{attrs:{router:"",to:"/communications",round:"",color:"red white--text"}},[t._v("Communication")]),t._v(" "),a("v-btn",{attrs:{router:"",to:"/create-communication",round:"",color:"red white--text"}},[t._v(" Creat Communication")])],1)},g=[],y={render:x,staticRenderFns:g},k=y,F=a("VU/8"),w=F(null,k,!1,null,null,null),C=w.exports,V={$validates:!0,props:["vueFormTitle","form","validator","btnValue","btnId","tableFor"],data:function(){return{}},computed:{},methods:{submit:function(){this.$refs.form.validate()&&(this.$router.push({name:this.tableFor}),this.$emit("submit"))}}},S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("v-card",{staticClass:"pt-5 pb-5 pr-5 pl-5"},[a("h1",{staticClass:"text-xs-center blue--text pb-3"},[t._v(" "+t._s(t.vueFormTitle)+" ")]),t._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t._l(t.form,function(e){return a("div",["text"===e.type?a("div",[a("v-text-field",{attrs:{label:e.label,rules:t.validator[e.name]},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"field.model"}})],1):t._e(),t._v(" "),"select"===e.type?a("div",[a("v-select",{attrs:{label:e.label,rules:t.validator[e.name],items:e.items},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"field.model"}})],1):t._e(),t._v(" "),"boolean"===e.type?a("div",[a("v-checkbox",{attrs:{label:e.label,rules:t.validator[e.name]},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"field.model"}})],1):t._e(),t._v(" "),"date"===e.type?a("div",[a("v-menu",{attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px"}},[a("v-text-field",{attrs:{slot:"activator",rules:t.validator[e.name],label:e.label,"prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"field.model"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",actions:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.save,o=e.cancel;return[a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:o}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:n}},[t._v("OK")])],1)]}}]),model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"field.model"}})],1)],1):t._e()])}),t._v(" "),a("v-btn",{attrs:{color:"blue white--text  "},on:{click:t.submit}},[t._v(t._s(t.btnValue))])],2)],1)],1)},P=[],E={render:S,staticRenderFns:P},U=E,R=a("VU/8"),A=R(V,U,!1,null,null,null),T=A.exports,$=a("mtWM"),q=a.n($),B={name:"lead",data:function(){return{btnValue:"Create",vueFormTitle:"Create Lead",form:[{name:"service",type:"select",label:"Service",model:null,items:["TJP","HJP","FJP","GJP"]},{name:"unit",type:"text",label:"Unit",model:""},{name:"status",type:"select",label:"Status",model:null,items:["APPROVED","PENDING"]},{name:"bulk",type:"boolean",label:"Bulk",model:!0}],validator:{service:[function(t){return!!t||"Service is required"}],unit:[function(t){return!!t||"Unit is required"},function(t){return parseInt(t)>0||"Unit must be a positive integer"}],status:[function(t){return!!t||"Status is required"}],bulk:[]}}},methods:{submit:function(){q.a.post("http://localhost:8000/api/lead/items/",{service:this.form[0].model,unit:parseInt(this.form[1].model),status:this.form[2].model,bulk:this.form[3].model,user:1}).then(function(t){}).catch(function(t){console.log(t)})}},components:{VueForm:T}},O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lead"},[a("v-btn",{attrs:{router:"",to:"/",round:"",color:"black white--text"}},[t._v("Home")]),t._v(" "),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs5:"","offset-xs3":""}},[a("vue-form",{attrs:{vueFormTitle:t.vueFormTitle,form:t.form,select:t.select,type:t.type,label:t.label,validator:t.validator,btnValue:t.btnValue,tableFor:"lead"},on:{submit:t.submit}})],1)],1)],1)],1)},I=[],D={render:O,staticRenderFns:I},J=D,M=a("VU/8"),H=o,N=M(B,J,!1,H,"data-v-6adccd24",null),G=N.exports,L=a("Z1Ko"),j={name:"PieChart",components:{IEcharts:L.a},props:["chartFor","chartOf","chartForUser"],data:function(){return{loading:!1,pie:{title:{text:"",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:[]},series:[{type:"pie",radius:"55%",center:["50%","50%"],data:[],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},mounted:function(){this.pie.title.text=this.chartFor.charAt(0).toUpperCase()+this.chartFor.slice(1)+" Analysis",this.pie.title.subtext="for "+this.chartOf+"s",this.getDataFromApi()},methods:{getDataFromApi:function(){var t=this;q()({method:"get",baseURL:"http://localhost:8000/api/"+this.chartOf+"/"+this.chartFor+"-pi/user/"+this.chartForUser,headers:{}}).then(function(e){t.pie.legend.data=e.data.legend,t.pie.series[0].data=e.data.pi}).bind(this).catch(function(){})},onReady:function(t){console.log(t)},onClick:function(t,e,a){console.log(arguments)}}},K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"echarts"},[a("IEcharts",{attrs:{option:t.pie,loading:t.loading},on:{ready:t.onReady,click:t.onClick}})],1)},z=[],Q={render:K,staticRenderFns:z},W=Q,Z=a("VU/8"),X=r,Y=Z(j,W,!1,X,"data-v-bd739e1e",null),tt=Y.exports,et={props:["headers","tableFor"],data:function(){return{search:"",totalItems:0,loading:!0,pagination:{},baseUrl:"http://localhost:8000/api/"+this.tableFor+"/items",items:[],selected:[]}},watch:{pagination:{handler:function(){this.getDataFromApi("",this.baseUrl)}}},mounted:function(){this.getDataFromApi("",this.baseUrl)},methods:{edit:function(t){this.$emit("onEdit",t)},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},getDataFromApi:function(t,e){var a=this;this.loading=!0;var n=this.pagination,o=n.sortBy,r=n.descending,i=n.page,l=n.rowsPerPage,s=null,c=null,u=null;u=""===this.search?t:this.search,s=r?"-"+o:o,c=(i-1)*l,q()({method:"get",baseURL:e+"/?offset="+c+"&limit="+l+"&ordering="+s+"&search="+u,headers:{}}).then(function(t){a.items=t.data.results,a.totalItems=t.data.count,a.totalItems<c&&(a.pagination.page=1,a.page=1,a.getDataFromApi(u)),a.loading=!1}).bind(this).catch(function(t){console.log(t),a.loading=!1})}}},at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(" Table for "+t._s(t.tableFor.charAt(0).toUpperCase()+t.tableFor.slice(1))+"s ")]),t._v(" "),a("br"),a("br"),t._v(" "),t.selected.length>0?a("div",[a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{round:"",color:"red",dark:""}},[a("v-icon",{attrs:{left:"",dark:""}},[t._v("delete")]),t._v("\n        Delete\n      ")],1)],1)]):t._e(),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},on:{input:function(e){return t.getDataFromApi(e,t.baseUrl)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"select-all":"","item-key":"id",headers:t.headers,items:t.items,pagination:t.pagination,"total-items":t.totalItems,loading:t.loading},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",[a("th",[a("v-checkbox",{attrs:{primary:"","hide-details":"","input-value":e.all,indeterminate:e.indeterminate},nativeOn:{click:function(e){t.toggleAll(e)}}})],1),t._v(" "),t._l(e.headers,function(e){return a("th",{key:e.text,class:["column sortable",t.pagination.descending?"desc":"asc",e.value===t.pagination.sortBy?"active":""],on:{click:function(a){t.changeSort(e.value)}}},[a("v-icon",[t._v("arrow_upward")]),t._v("\n          "+t._s(e.text)+"\n        ")],1)})],2)]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":"","input-value":e.selected}})],1),t._v(" "),t._l(e.item,function(e,n){return t.headers.find(function(t){return t.value===n})?a("td",[t._v("\n          "+t._s(e)+"\n        ")]):t._e()}),t._v(" "),a("v-btn",{staticStyle:{"box-shadow":"none"},attrs:{slot:"activator",color:"transparent",small:"",left:"",fab:"",light:""},on:{click:function(a){t.edit(e.item)}},slot:"activator"},[a("v-icon",[t._v("edit")])],1)],2)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},nt=[],ot={render:at,staticRenderFns:nt},rt=ot,it=a("VU/8"),lt=it(et,rt,!1,null,null,null),st=lt.exports,ct={components:{PiChart:tt,VueTable:st},data:function(){return{headers:[{text:"Service",align:"center",value:"service"},{text:"Unit",align:"center",value:"unit"},{text:"Status",align:"center",value:"status"},{text:"Bulk",align:"center",value:"bulk"}]}}},ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{router:"",to:"/",round:"",color:"black white--text"}},[t._v("Home")]),t._v(" "),a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",[a("v-flex",[a("vue-table",{attrs:{headers:t.headers,tableFor:"lead"}})],1)],1)],1),t._v(" "),a("v-container",{staticClass:"mt-5"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"","offset-xs2":"","offset-md4":"","offset-lg4":""}},[a("pi-chart",{attrs:{chartFor:"service",chartOf:"lead",chartForUser:"1"}})],1)],1)],1)],1)},dt=[],mt={render:ut,staticRenderFns:dt},vt=mt,pt=a("VU/8"),ft=pt(ct,vt,!1,null,null,null),ht=ft.exports,bt={name:"communication",props:["data"],data:function(){return{dialog:!1,btnValue:"Create",vueFormTitle:"Edit Communication",form:[{name:"name",type:"text",label:"Full Name",model:this.data.client_name},{name:"purpose",type:"select",label:"Purpose",model:this.data.purpose,items:["Suspecting","Prospecting","Approach","Job Posting","Job Edit","Approval","Invoicing","Payment Follow up","Payment Collection","General Query","Value Proposition","Password Reset"]},{name:"medium",type:"select",label:"Medium",model:this.data.medium,items:["Inbound Call","Outbound Call","Email","SMS","Visit"]},{name:"medium_status",type:"boolean",label:"Status",model:this.data.medium_status},{name:"remarks",type:"text",label:"Remarks",model:this.data.remarks},{name:"remainder_date",type:"date",label:"Remainder Date",model:this.data.remainder_date}],validator:{name:[function(t){return!!t||"Service is required"}],purpose:[function(t){return!!t||"Status is required"}],medium:[function(t){return!!t||"Status is required"}],medium_status:[function(t){return!!t||"Status is required"}],remarks:[function(t){return!!t||"Type is required"}],remainder_date:[function(t){return!!t||"Type is required"}]}}},methods:{submit:function(){q.a.put("http://localhost:8000/api/communication/items/"+this.data.id+"/",{client_name:this.form[0].model,purpose:this.form[1].model,medium:this.form[2].model,medium_status:this.form[3].model,remarks:this.form[4].model,remainder_date:this.form[5].model,user:1}).then(function(t){alert(t.status_code)}).catch(function(t){console.log(t)})}},components:{VueForm:T}},_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs5:"","offset-xs3":""}},[a("vue-form",{attrs:{vueFormTitle:t.vueFormTitle,form:t.form,select:t.select,type:t.type,label:t.label,validator:t.validator,btnValue:t.btnValue,tableFor:"communication"},on:{submit:t.submit}})],1)],1)],1)],1)],1)},xt=[],gt={render:_t,staticRenderFns:xt},yt=gt,kt=a("VU/8"),Ft=i,wt=kt(bt,yt,!1,Ft,"data-v-d01610aa",null),Ct=wt.exports,Vt={components:{PiChart:tt,VueTable:st,EditCommunication:Ct},data:function(){return{editBox:!1,data:null,headers:[{text:"Name",align:"left",value:"client_name"},{text:"Medium",align:"left",value:"medium"},{text:"Medium status",align:"left",value:"medium_status"},{text:"Purpose",align:"left",value:"purpose"},{text:"Remarks",align:"left",value:"remarks"},{text:"Remainder Date",align:"left",value:"remainder_date"}]}},methods:{showEditBox:function(t){this.editBox=!0,this.data=t}}},St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{router:"",to:"/",round:"",color:"black white--text"}},[t._v("Home")]),t._v(" "),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.editBox,callback:function(e){t.editBox=e},expression:"editBox"}},[a("v-card",[a("v-toolbar",{staticClass:"primary",staticStyle:{flex:"0 0 auto"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.editBox=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Settings")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.editBox=!1}}},[t._v("Save")]),t._v(" "),a("v-menu",{attrs:{bottom:"",right:"","offset-y":""}},[a("v-btn",{attrs:{slot:"activator",dark:"",icon:""},slot:"activator"},[a("v-icon",[t._v("more_vert")])],1),t._v(" "),a("v-list",t._l(t.items,function(e){return a("v-list-tile",{key:e.title,on:{click:function(t){}}},[a("v-list-tile-title",[t._v(t._s(e.title))])],1)}))],1)],1)],1),t._v(" "),a("edit-communication",{attrs:{data:t.data}},[t._v("aaa")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.editBox=!1}}},[t._v("Close")])],1)],1)],1)],1),t._v(" "),a("v-container",{attrs:{"text-xs-center":""}},[a("v-layout",[a("v-flex",[a("vue-table",{attrs:{headers:t.headers,tableFor:"communication"},on:{onEdit:t.showEditBox}})],1)],1)],1),t._v(" "),a("v-container",{staticClass:"mt-5"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"","offset-xs2":"","offset-md4":"","offset-lg4":""}},[a("pi-chart",{attrs:{chartFor:"purpose",chartOf:"communication",chartForUser:"1"}})],1)],1)],1)],1)},Pt=[],Et={render:St,staticRenderFns:Pt},Ut=Et,Rt=a("VU/8"),At=Rt(Vt,Ut,!1,null,null,null),Tt=At.exports,$t={name:"communication",data:function(){return{btnValue:"Create",vueFormTitle:"Create Communication",form:[{name:"name",type:"text",label:"Full Name",model:""},{name:"purpose",type:"select",label:"Purpose",model:null,items:["Suspecting","Prospecting","Approach","Job Posting","Job Edit","Approval","Invoicing","Payment Follow up","Payment Collection","General Query","Value Proposition","Password Reset"]},{name:"medium",type:"select",label:"Medium",model:null,items:["Inbound Call","Outbound Call","Email","SMS","Visit"]},{name:"medium_status",type:"boolean",label:"Status",model:""},{name:"remarks",type:"text",label:"Remarks",model:""},{name:"remainder_date",type:"date",label:"Remainder Date",model:""}],validator:{name:[function(t){return!!t||"Service is required"}],purpose:[function(t){return!!t||"Status is required"}],medium:[function(t){return!!t||"Status is required"}],medium_status:[function(t){return!!t||"Status is required"}],remarks:[function(t){return!!t||"Type is required"}],remainder_date:[function(t){return!!t||"Type is required"}]}}},methods:{submit:function(){q.a.post("http://localhost:8000/api/communication/items/",{client_name:this.form[0].model,purpose:this.form[1].model,medium:this.form[2].model,medium_status:this.form[3].model,remarks:this.form[4].model,remainder_date:this.form[5].model+"T15:35:51.395547Z",user:1}).then(function(t){}).catch(function(t){console.log(t)})}},components:{VueForm:T}},qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lead"},[a("v-btn",{attrs:{router:"",to:"/",round:"",color:"black white--text"}},[t._v("Home")]),t._v(" "),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs5:"","offset-xs3":""}},[a("vue-form",{attrs:{vueFormTitle:t.vueFormTitle,form:t.form,select:t.select,type:t.type,label:t.label,validator:t.validator,btnValue:t.btnValue,tableFor:"communication"},on:{submit:t.submit}})],1)],1)],1)],1)},Bt=[],Ot={render:qt,staticRenderFns:Bt},It=Ot,Dt=a("VU/8"),Jt=l,Mt=Dt($t,It,!1,Jt,"data-v-8097b31e",null),Ht=Mt.exports;s.a.use(_.a);var Nt=new _.a({routes:[{path:"/",name:"homepage",component:C},{path:"/create-lead",name:"CreateLead",component:G},{path:"/communications",name:"communication",component:Tt},{path:"/create-communication",name:"CreateCommunication",component:Ht},{path:"/leads",name:"lead",component:ht}],mode:"history"}),Gt=a("3EgV"),Lt=a.n(Gt),jt=a("sUu7");a("Vb+l");s.a.use(jt.a),s.a.use(Lt.a),a.e(0).then(a.bind(null,"7zck")),s.a.config.productionTip=!1,new s.a({el:"#app",router:Nt,template:"<App/>",components:{App:b}})},SFGu:function(t,e){},VyEA:function(t,e){},owjt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ed137b8cdfc0151f4c0f.js.map